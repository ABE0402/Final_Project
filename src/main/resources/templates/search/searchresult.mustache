{{> layout/header}}
<div class="my-3">
    <form action="/searchresult" method="get">
        <input type="search" name="query" class="form-control" placeholder="가게 이름, 메뉴, 지역 검색" aria-label="Search">
        <button class="btn btn-info text-white" type="submit">
            검색
        </button>
    </form>
</div>

<main class="container py-5">
    <!-- 1. 검색어 결과 섹션 -->
    <h2 class="mb-4">검색 결과: '{{query}}'</h2>
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-2 row-cols-lg-1 g-4">
        {{#cards}}
            <div class="col">
                <a class="card text-decoration-none text-reset h-100" href="/cafes/{{id}}">
                    <div class="ratio ratio-16x9 bg-light card-img-top"
                         style="background-image:url('{{heroImageUrl}}'); background-size:cover; background-position:center"></div>
                    <div class="card-body">
                        <h4 class="card-title mb-1">{{name}}</h4>
                        <span class="badge text-bg-success mb-2">{{type}}</span>
                        <div class="small text-muted text-truncate">{{addressRoad}}</div>
                        <div class="mt-2 small">⭐ {{averageRating}} · 리뷰 {{reviewCount}}</div>

                        <!-- 메뉴 섹션 -->
                        <div class="mt-2">
                            <strong>메뉴:</strong>
                            {{#menus}}
                                <div>{{name}} - {{price}}원</div>
                            {{/menus}}
                            {{^menus}}
                                <div>검색어와 일치하는 메뉴가 없습니다.</div>
                            {{/menus}}
                        </div>
                    </div>
                </a>
            </div>
        {{/cards}}

        {{^cards}}
            <div class="col">
                <div class="alert alert-light border">검색 결과가 없습니다.</div>
            </div>
        {{/cards}}
    </div>

    <!-- 2. 인기 검색어 섹션 -->
    <h2 class="mt-5 mb-3">인기 검색어</h2>
    <ul class="list-inline">
        {{#popularKeywords}}
            <li class="list-inline-item badge text-bg-primary">{{.}}</li>
        {{/popularKeywords}}
    </ul>
</main>

{{> layout/footer}}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
